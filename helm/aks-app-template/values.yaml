replicaCount: 3
namespace: default

image:
  repository: craksplatformprod.azurecr.io/app
  tag: "latest"
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 8080

metrics:
  port: 9090
  path: /metrics

probes:
  liveness:
    path: /health/live
  readiness:
    path: /health/ready

resources:
  requests:
    cpu: 250m
    memory: 256Mi
  limits:
    cpu: 1000m
    memory: 512Mi

serviceAccount:
  create: true
  annotations:
    azure.workload.identity/client-id: ""

env:
  - name: ENVIRONMENT
    value: "prod"
  - name: LOG_LEVEL
    value: "info"

autoscaling:
  enabled: true
  minReplicas: 3
  maxReplicas: 20
  targetCPUUtilizationPercentage: 70
  targetMemoryUtilizationPercentage: 80

networkPolicy:
  enabled: true
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              kubernetes.io/metadata.name: ingress-nginx

podDisruptionBudget:
  enabled: true
  minAvailable: 2
